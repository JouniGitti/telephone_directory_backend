{"version":3,"sources":["components/PhoneNumber.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/personService.js","components/notification.js","App.js","index.js"],"names":["PhoneNumber","person","handleDeleting","className","name","number","onClick","Persons","persons","filterWord","onDeleteName","filter","toLowerCase","includes","map","key","Filter","onFilterChange","value","onChange","PersonForm","handleNameAdding","nameValue","handleNameChanging","numberValue","handleNumberChanging","onSubmit","type","baseUrl","responseObject","request","then","response","data","axios","get","createdObject","post","id","delete","put","classString","Notification","message","App","useState","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setPersons","notificationMessage","setNotificationMessage","additionMessage","useEffect","personService","fullList","catch","error","console","log","event","target","preventDefault","nameAlreadyExists","some","element","previousName","find","per","updatedName","window","confirm","returnedName","setTimeout","handleUpdateNumber","newPerson","concat","deletedName","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9a335a7d.chunk.js","sourcesContent":["import React from 'react'\r\nimport './PhoneNumber.css'\r\n\r\nconst PhoneNumber = ({person, handleDeleting}) => {\r\n    return (\r\n      <li className='number'>\r\n         {person.name} Tel: {person.number} <button onClick={() => handleDeleting(person)}>delete</button> \r\n      </li>\r\n    )\r\n  }\r\n\r\n  export default PhoneNumber","import React from 'react'\r\nimport PhoneNumber from './PhoneNumber'\r\n\r\nconst Persons = ({persons, filterWord, onDeleteName}) => {\r\n    const filterWithLowerCase = (person) => (\r\n        person.name.toLowerCase().includes(\r\n            filterWord.toLowerCase()\r\n    ))\r\n    return (\r\n        <ul>\r\n            {persons\r\n            .filter(filterWithLowerCase)\r\n            .map(person => \r\n                <PhoneNumber \r\n                key={person.name} \r\n                person={person} \r\n                handleDeleting={onDeleteName}/>\r\n            )}\r\n        </ul>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({filter, onFilterChange}) => {\r\n    return(\r\n      <div>\r\n      filter shown with: \r\n      <input\r\n        value={filter}\r\n        onChange={onFilterChange} />\r\n    </div>\r\n    )\r\n  }\r\n\r\n  export default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({handleNameAdding, nameValue, handleNameChanging, numberValue, handleNumberChanging}) => {\r\n  //console.log (handleNameAdding, nameValue, handleNameChanging, numberValue, handleNumberChanging)\r\n    return (\r\n      <form onSubmit={handleNameAdding}>\r\n          <div>\r\n            name: \r\n            <input\r\n              value={nameValue}\r\n              onChange={handleNameChanging} />\r\n          </div>\r\n          <div>\r\n            number: \r\n            <input\r\n              value={numberValue}\r\n              onChange={handleNumberChanging} />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n    )\r\n  }\r\n\r\n  export default PersonForm","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return responseObject(axios.get(baseUrl))\r\n}\r\n\r\nconst create = createdObject => {\r\n    return responseObject(axios.post(baseUrl, createdObject))\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, createdObject) => {\r\n    return responseObject(axios.put(`${baseUrl}/${id}`, createdObject))\r\n}\r\n\r\nconst responseObject = (request) => {\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, remove, update }\r\n\r\n//, create, update, delName  \r\n\r\n// const getAll = () => {\r\n//     const request = axios.get(baseUrl)\r\n//     return request.then(response => response.data)\r\n//   }\r\n  \r\n//   const create = newObject => {\r\n//     const request = axios.post(baseUrl, newObject)\r\n//     return request.then(response => response.data)\r\n//   }\r\n  \r\n//   const update = (id, newObject) => {\r\n//     const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n//     return request.then(response => response.data)\r\n//   }\r\n  \r\n//   const delName = (id) => {\r\n//       const request = axios.delete (`${baseUrl}/${id}`)\r\n//       return request.then(response => response.data)\r\n//   }","import React from 'react'\r\n\r\nvar classString = 'notification'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    } else if (message.includes('deleted')) {\r\n        classString = 'error'\r\n    }\r\n    return (\r\n        <div className = {classString}>\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\n\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/personService'\r\nimport Notification from './components/notification'\r\n\r\n// for the app to run you need to start the json-server also: npm run server\r\n// uses the file db.json as a \"database\"\r\n// start the app: npm start\r\n\r\n\r\nconst App = () => {\r\n\r\n  const [ newName, setNewName ] = useState('') \r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  const [ persons, setPersons] = useState([])\r\n  const [notificationMessage, setNotificationMessage] = useState(null)\r\n\r\n  const additionMessage = `Added ${newName}`\r\n  const deletionMessage = 'Deleted '\r\n  const updateMessage = 'Updated '\r\n\r\n  useEffect(() => {\r\n    personService\r\n    .getAll()\r\n    .then(fullList => {\r\n      setPersons(fullList)\r\n    })\r\n    .catch(error => {\r\n      console.log('loading of personslist failed with error: ', error)\r\n    })\r\n  }, [] )\r\n\r\n  const handleCreate = () => {\r\n    const newPerson = { \r\n      name: newName, \r\n      number: newNumber \r\n    }\r\n    personService\r\n      .create(newPerson)\r\n      .then(newPerson => {\r\n        setPersons(persons.concat(newPerson))\r\n        setNotificationMessage(additionMessage)\r\n        setTimeout(() => {\r\n          setNotificationMessage(null)\r\n        }, 3000)\r\n      })\r\n      .catch(error => {\r\n        console.log('error creating a person with error code:', error)\r\n      })\r\n      \r\n  }\r\n\r\n  const handleDelete = deletedName => {\r\n    const okWithDelete = window.confirm (`Do you wish to delete the name ${deletedName.name} from the list?`)\r\n    if (okWithDelete) {\r\n      personService\r\n        .remove(deletedName.id)\r\n        .then(() => {\r\n          setPersons(persons.filter(person => person.id !== deletedName.id))\r\n          setNotificationMessage(deletionMessage + deletedName.name)\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 3000)\r\n        })\r\n        .catch(error => {\r\n          setNotificationMessage(deletedName.name + ' already deleted from the database.')\r\n          console.log('error with deleting a person. Error code: ', error)\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 3000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleUpdateNumber = (name) => {\r\n    const previousName = persons.find(per => per.name === name)\r\n    const updatedName = {...previousName, number: newNumber}\r\n\r\n    if (name === updatedName.name) {\r\n        window.confirm (`Do you wish to change the number for ${updatedName.name}?`)\r\n        personService\r\n        .update(updatedName.id, updatedName)\r\n        .then (returnedName => {\r\n        setPersons(\r\n          persons.map(\r\n            person => person.id !== previousName.id ? person: returnedName \r\n          ))\r\n          setNotificationMessage(updateMessage + updatedName.name)\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 3000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleAddName = (event) => {\r\n    event.preventDefault()\r\n    const nameAlreadyExists = persons.some(element => element.name === newName)\r\n    if (nameAlreadyExists) {\r\n      handleUpdateNumber(newName)\r\n    }\r\n    if (!nameAlreadyExists) {\r\n      handleCreate()\r\n    }\r\n    // These clear the input fields in the NewPerson i.e. also in the form\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const handleNameChange = (event) => {  \r\n      setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {  \r\n    setNewFilter(event.target.value)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h3>Phonebook APP</h3>\r\n      <Notification message={notificationMessage} />\r\n      <Filter filter={newFilter} onFilterChange={handleFilterChange} />\r\n      <h3>Add a new name:</h3>\r\n      <PersonForm \r\n        handleNameAdding={handleAddName}\r\n        handleNameChanging={handleNameChange}   \r\n        handleNumberChanging={handleNumberChange}\r\n        nameValue={newName}\r\n        numberValue={newNumber}\r\n        />\r\n      <h3>The numbers on the list are:</h3>\r\n      <Persons persons={persons} filterWord={newFilter} onDeleteName={handleDelete}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}